---
name: investigate
description: ユーザーから依頼された内容を調査する。コードベース・ログ・公式ドキュメント等の調査をサブエージェントに委任し、結果をまとめて報告する。
argument-hint: "[調査依頼内容]"
allowed-tools: Read, Write, Glob, Grep, Bash
---

# 概要

ユーザーから依頼された内容「$ARGUMENTS」を調査する。
調査作業はサブエージェントに委任し、結果を統合して報告する。

## 調査フロー

### 1. 調査計画の立案

依頼内容を分析し、必要な調査の種類を判断する。

| 調査種別 | サブエージェント | 使用場面 |
|---|---|---|
| コード調査 | `code-investigator` | コードベースの該当箇所・実装詳細の調査 |
| ログ調査 | `log-investigator` | エラーログ・テスト結果・CI状況の調査 |
| Web調査 | `web-researcher` | 公式ドキュメント・API仕様・エラー解決策の調査 |

### 2. サブエージェントの起動

- 調査が複数の種別に渡る場合はサブエージェントを**並列実行**する
- 各サブエージェントには調査対象を明確に指示する

### 3. 調査結果の統合・出力

サブエージェントの調査結果を統合し、以下を行う：

1. メインコンテキストでユーザーに調査結果を表示する
2. `.claude/tmp/user-investigation-request/` 配下にレポートファイルを保存する

## レポートファイルの保存

### ファイル命名規則

```
YYYYMMDD-{調査概要}.md
```

- `YYYYMMDD`: 調査実施日
- `調査概要`: 調査内容を簡潔に表す英語のケバブケース

**例:**
- `20260226-nestjs-guard-implementation.md`
- `20260226-game-scraping-error-analysis.md`

### レポート構成

```markdown
# {調査概要}

- 調査日: YYYY-MM-DD
- 依頼内容: {ユーザーの依頼内容}

## 調査結果

### {調査項目1}

- 結論
- 根拠・詳細

### {調査項目2}

...

## 参照情報

- 関連ファイル・URL等
```
